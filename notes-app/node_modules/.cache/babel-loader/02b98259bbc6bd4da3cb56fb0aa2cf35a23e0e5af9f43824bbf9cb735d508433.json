{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"notes-container\"\n};\nconst _hoisted_2 = {\n  class: \"sidebar\"\n};\nconst _hoisted_3 = {\n  class: \"top-panel\"\n};\nconst _hoisted_4 = [\"disabled\"];\nconst _hoisted_5 = {\n  class: \"notes-list\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  class: \"note-title\"\n};\nconst _hoisted_8 = {\n  class: \"content\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"cont_notes\"\n};\nconst _hoisted_10 = {\n  class: \"cont_notes\"\n};\nconst _hoisted_11 = {\n  class: \"buttons\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"cont_notes\"\n};\nconst _hoisted_13 = {\n  class: \"cont_notes\"\n};\nconst _hoisted_14 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.showAddNote && $setup.showAddNote(...args)),\n    class: \"add-button\"\n  }, \"Добавить\"), $setup.selectedNote ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = $event => $setup.deleteNote($setup.selectedNote)),\n    class: \"delete-button\",\n    disabled: !$setup.selectedNote\n  }, \"Удалить\", 8 /* PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true)]), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"divider\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"ul\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.notes, note => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: note.id,\n      onClick: $event => $setup.selectNote(note),\n      class: _normalizeClass([\"note-item\", {\n        active: $setup.selectedNote && $setup.selectedNote.id === note.id\n      }])\n    }, [_createElementVNode(\"h2\", _hoisted_7, _toDisplayString(note.title.length > 25 ? note.title.substring(0, 25) + '...' : note.title), 1 /* TEXT */), _createElementVNode(\"h3\", null, _toDisplayString(note.created_at), 1 /* TEXT */), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n      class: \"note-divider\"\n    }, null, -1 /* HOISTED */))], 10 /* CLASS, PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_8, [$setup.isAddingNote ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"Создать новую заметку\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.newTitle = $event),\n    placeholder: \"Название\",\n    required: \"\",\n    class: \"note-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newTitle]]), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.newDescription = $event),\n    placeholder: \"Описание\",\n    required: \"\",\n    class: \"note-textarea\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newDescription]]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $setup.addNote && $setup.addNote(...args)),\n    class: \"save-button\"\n  }, \"Сохранить\")])])])) : $setup.selectedNote ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.selectedNote.title = $event),\n    class: \"note-input\",\n    placeholder: \"Название\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.selectedNote.title]]), _cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"note-divider\"\n  }, null, -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.selectedNote.description = $event),\n    class: \"note-textarea\",\n    placeholder: \"Описание\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.selectedNote.description]]), _cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n    class: \"note-divider\"\n  }, null, -1 /* HOISTED */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, _cache[12] || (_cache[12] = [_createElementVNode(\"h3\", null, \"Выберите заметку для просмотра её содержания\", -1 /* HOISTED */)])))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$setup","showAddNote","selectedNote","$event","deleteNote","disabled","_hoisted_4","_createCommentVNode","_hoisted_5","_Fragment","_renderList","notes","note","id","selectNote","_normalizeClass","active","_hoisted_7","_toDisplayString","title","length","substring","created_at","_hoisted_6","_hoisted_8","isAddingNote","_hoisted_9","_hoisted_10","newTitle","placeholder","required","newDescription","_hoisted_11","addNote","_hoisted_12","_hoisted_13","description","_hoisted_14"],"sources":["/Users/timurmorozov/web_test/notes-app/src/components/NotesLine.vue"],"sourcesContent":["<template>\n    <div class=\"notes-container\">\n        <div class=\"sidebar\">\n\n            <div class=\"top-panel\">\n                <button @click=\"showAddNote\" class=\"add-button\">Добавить</button>\n                <button @click=\"deleteNote(selectedNote)\" class=\"delete-button\" :disabled=\"!selectedNote\" v-if=\"selectedNote\">Удалить</button>\n            </div>\n            <div class=\"divider\"></div>\n            <ul class=\"notes-list\">\n                <li v-for=\"note in notes\" :key=\"note.id\" @click=\"selectNote(note)\" class=\"note-item\" :class=\"{ active: selectedNote && selectedNote.id === note.id }\">\n                    <h2 class=\"note-title\">{{ note.title.length > 25 ? note.title.substring(0, 25) + '...' : note.title }}</h2>\n                    <h3>{{ note.created_at }}</h3>\n                    <div class=\"note-divider\"></div>\n                </li>\n            </ul>\n        </div>\n        <div class=\"content\">\n            <div v-if=\"isAddingNote\" class=\"cont_notes\">\n                <div class=\"cont_notes\">\n                    <h3>Создать новую заметку</h3>\n                    <textarea v-model=\"newTitle\" placeholder=\"Название\" required class=\"note-input\" ></textarea>\n                    <textarea v-model=\"newDescription\" placeholder=\"Описание\" required class=\"note-textarea\"></textarea>\n                    <div class=\"buttons\">\n                        <button @click=\"addNote\" class=\"save-button\">Сохранить</button>\n                    </div>\n                </div>\n            </div>\n            <div v-else-if=\"selectedNote\" class=\"cont_notes\">\n                <div class=\"cont_notes\">\n                    <textarea v-model=\"selectedNote.title\" class=\"note-input\" placeholder=\"Название\" required ></textarea>\n                    <div class=\"note-divider\"></div> \n                    <textarea v-model=\"selectedNote.description\" class=\"note-textarea\" placeholder=\"Описание\"></textarea>\n                    <div class=\"note-divider\"></div> \n                </div>\n            </div>\n            <div v-else>\n                <h3>Выберите заметку для просмотра её содержания</h3>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { ref, onMounted, watch } from \"vue\";\n\nexport default {\n    setup() {\n        const notes = ref([]);\n        const selectedNote = ref(null);\n        const isAddingNote = ref(false);\n        const newTitle = ref('');\n        const newDescription = ref('');\n\n        const fetchNotes = async () => {\n            try {\n                const response = await axios.get(`http://localhost:8000/notes/`);\n                notes.value = response.data;\n            } catch (error) {\n                console.error(\"Error fetching notes:\", error);\n            }\n        };\n\n        const addNote = async () => {\n            try {\n                await axios.post(`http://localhost:8000/notes/`, {\n                    title: newTitle.value,\n                    description: newDescription.value\n                });\n                newTitle.value = '';\n                newDescription.value = '';\n                isAddingNote.value = false;\n                fetchNotes();\n            } catch (error) {\n                console.error(\"Error adding note:\", error);\n            }\n        };\n\n        const selectNote = (note) => {\n            selectedNote.value = note;\n            isAddingNote.value = false;\n        };\n\n        const deleteNote = async (note) => {\n            if (!note) return;\n            try {\n                await axios.delete(`http://localhost:8000/notes/${note.id}`);\n                fetchNotes();\n                selectedNote.value = null;\n            } catch (error) {\n                console.error(\"Error deleting note:\", error);\n            }\n        };\n\n        const showAddNote = () => {\n            isAddingNote.value = true;\n            selectedNote.value = null; \n        };\n\n        watch(selectedNote, (note) => {\n            if (note) {\n                autoSave(note);\n            }\n        });\n\n        const autoSave = async (note) => {\n            if (note) {\n                try {\n                    await axios.put(`http://localhost:8000/notes/${note.id}`, {\n                        title: note.title,\n                        description: note.description\n                    });\n                } catch (error) {\n                    console.error(\"Error updating note:\", error);\n                }\n            }\n        };\n\n        onMounted(fetchNotes);\n\n        return {\n            notes,\n            selectedNote,\n            isAddingNote,\n            newTitle,\n            newDescription,\n            addNote,\n            selectNote,\n            deleteNote,\n            showAddNote\n        };\n    },\n};\n</script>\n\n<style lang=\"css\" scoped>\n@import url('/src/assets/style.css');\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}