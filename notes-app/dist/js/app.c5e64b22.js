(function(){"use strict";var e={7958:function(e,t,o){var n=o(5130),l=o(5234),a=o(6768);const r={id:"app"};function i(e,t,o,n,l,i){const s=(0,a.g2)("Notes");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(s)])}var s=o(4232);const c={class:"notes-container"},u={class:"sidebar"},d={class:"top-panel"},v=["disabled"],p={class:"notes-list"},f=["onClick"],h={class:"note-title"},g={class:"content"},N={key:0,class:"cont_notes"},m=["src"],k=["onClick"],y={class:"buttons"},b={key:1,class:"contnotes"},w=["src"],C={key:2};function L(e,t,o,l,r,i){return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.showAddNote&&l.showAddNote(...e)),class:"add-button"},"Добавить"),l.selectedNote?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[1]||(t[1]=e=>l.deleteNote(l.selectedNote)),class:"delete-button",disabled:!l.selectedNote},"Удалить",8,v)):(0,a.Q3)("",!0)]),t[9]||(t[9]=(0,a.Lk)("div",{class:"divider"},null,-1)),(0,a.Lk)("ul",p,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.notes,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,onClick:t=>l.selectNote(e),class:(0,s.C4)(["note-item",{active:l.selectedNote&&l.selectedNote.id===e.id}])},[(0,a.Lk)("h2",h,(0,s.v_)(e.title.length>25?e.title.substring(0,25)+"…":e.title),1),t[8]||(t[8]=(0,a.Lk)("div",{class:"note-divider"},null,-1))],10,f)))),128))])]),(0,a.Lk)("div",g,[l.isAddingNote?((0,a.uX)(),(0,a.CE)("div",N,[t[10]||(t[10]=(0,a.eW)(" Создать новую заметку ")),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newTitle=e),placeholder:"Название",required:"",class:"note-input"},null,512),[[n.Jo,l.newTitle]]),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newDescription=e),placeholder:"Описание",required:"",class:"note-textarea"},null,512),[[n.Jo,l.newDescription]]),(0,a.Lk)("input",{type:"file",onChange:t[4]||(t[4]=(...e)=>l.onFileChange&&l.onFileChange(...e)),multiple:""},null,32),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.previewImages,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"note-image-preview-container"},[(0,a.Lk)("img",{src:e,alt:"Image Preview",class:"note-image-preview"},null,8,m),(0,a.Lk)("button",{onClick:e=>l.removeImage(t),class:"remove-button"},"Удалить",8,k)])))),128)),(0,a.Lk)("div",y,[(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.addNoteWithImage&&l.addNoteWithImage(...e)),class:"save-button"},"Сохранить")])])):l.selectedNote?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.selectedNote.title=e),class:"note-input",placeholder:"Название",required:""},null,512),[[n.Jo,l.selectedNote.title]]),t[11]||(t[11]=(0,a.Lk)("div",{class:"note-divider"},null,-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.selectedNote.description=e),class:"note-textarea",placeholder:"Описание"},null,512),[[n.Jo,l.selectedNote.description]]),t[12]||(t[12]=(0,a.Lk)("div",{class:"note-divider"},null,-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.selectedNote.image_urls,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"note-image-container"},[(0,a.Lk)("img",{src:e,alt:"Note Image",class:"note-image"},null,8,w)])))),128))])):((0,a.uX)(),(0,a.CE)("div",C," Выберите заметку для просмотра её содержания "))])])}o(4114);var E=o(144),I=o(4373);const A=I.A.create({baseURL:"http://127.0.0.1:8000",headers:{"Content-Type":"application/json"}});var O={async fetchNotes(){return A.get("/notes/")},async addNoteWithImage(e){return A.post("/notes/",e,{headers:{"Content-Type":"multipart/form-data"}})},async deleteNote(e){return A.delete(`/notes/${e}`)}};const T=(0,l.nY)("note",(()=>{const e=(0,E.KR)([]),t=(0,E.KR)(null),o=(0,E.KR)(!1),n=(0,E.KR)(""),l=(0,E.KR)(""),a=async()=>{try{const t=await O.fetchNotes();e.value=t.data,console.log("Fetched notes:",e.value)}catch(t){console.error("Error fetching notes:",t)}},r=async()=>{if(n.value&&l.value)try{await O.addNote({title:n.value,description:l.value}),n.value="",l.value="",o.value=!1,await a()}catch(e){console.error("Error adding note:",e)}else console.error("Title or Description is empty!")},i=e=>{t.value=e,o.value=!1},s=async e=>{if(e)try{await O.deleteNote(e.id),await a(),t.value=null}catch(o){console.error("Error deleting note:",o)}},c=()=>{o.value=!0,t.value=null};return{notes:e,selectedNote:t,isAddingNote:o,newTitle:n,newDescription:l,fetchNotes:a,addNote:r,selectNote:i,deleteNote:s,showAddNote:c}}));var X={setup(){const e=T(),{notes:t,selectedNote:o,isAddingNote:n,newTitle:l,newDescription:r,fetchNotes:i,selectNote:s,deleteNote:c,showAddNote:u}=e;let d=[];const v=(0,E.KR)([]),p=e=>{d=Array.from(e.target.files),v.value=[],d.forEach((e=>{const t=new FileReader;t.onload=e=>{v.value.push(e.target.result)},t.readAsDataURL(e)}))},f=e=>{d.splice(e,1),v.value.splice(e,1)},h=async()=>{if(l.value&&r.value)try{const e=new FormData;e.append("title",l.value),e.append("description",r.value),d.forEach((t=>{e.append("files",t)})),await O.addNoteWithImage(e),l.value="",r.value="",n.value=!1,d=[],v.value=[],await i()}catch(e){console.error("Error adding note:",e)}else console.error("Title or Description is empty!")};return(0,a.sV)((()=>{i(),console.log("Current notes:",t.value)})),{notes:t,selectedNote:o,isAddingNote:n,newTitle:l,newDescription:r,addNoteWithImage:h,selectNote:s,deleteNote:c,showAddNote:u,onFileChange:p,previewImages:v,removeImage:f}}},x=o(1241);const F=(0,x.A)(X,[["render",L],["__scopeId","data-v-9205b2cc"]]);var _=F,j={components:{Notes:_}};const D=(0,x.A)(j,[["render",i]]);var K=D;const R=(0,n.Ef)(K),U=(0,l.Ey)();R.use(U),R.mount("#app")}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,l,a){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],a=e[u][2];for(var i=!0,s=0;s<n.length;s++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(i=!1,a<r&&(r=a));if(i){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,l,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,a,r=n[0],i=n[1],s=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(s)var u=s(o)}for(t&&t(n);c<r.length;c++)a=r[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self["webpackChunknotes_app"]=self["webpackChunknotes_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(7958)}));n=o.O(n)})();
//# sourceMappingURL=app.c5e64b22.js.map